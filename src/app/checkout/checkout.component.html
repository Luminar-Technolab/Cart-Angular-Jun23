<app-header></app-header>
<div style="margin-top: 80px;" class="d-flex justify-content-center align-items-center flex-column w-100">
    <div class="Delivery w-50 mt-5">
        <h1>Delivery Details</h1>
        <form *ngIf="!proceedToBuyStatus" [formGroup]="checkoutForm" class="border rounded p-3" (ngSubmit)="proceedToBuy()">
            <div class="form-floating mb-3">
                <input type="text" class="form-control" id="floatingInput1" placeholder="Username" name="uname" formControlName="uname">
                <label for="floatingInput1">Username</label>
            </div>
            <div class="form-floating mb-3">
                <input type="text" class="form-control" id="floatingInput2" placeholder="Apartment Number" name="flat" formControlName="flat">
                <label for="floatingInput2">Apartment No.</label>
            </div>
            <div class="form-floating mb-3">
                <input type="text" class="form-control" id="floatingInput3" placeholder="Place" name="place" formControlName="place">
                <label for="floatingInput3">Place</label>
            </div>
            <div class="form-floating mb-3">
                <input type="text" class="form-control" id="floatingInput4" placeholder="Pincode" name="pincode" formControlName="pincode">
                <label for="floatingInput4">Pincode</label>
            </div>
            <div class="d-flex justify-content-between mb-3">
                <input (click)="cancel()" type="button" class="btn btn-warning"  value="Cancel">
                <input type="submit" class="btn btn-success"  value="Proceed to Buy">
            </div>
        </form>
        <div *ngIf="proceedToBuyStatus" class="border rounded p-3">
            <h4>-----Address-----</h4>
            <h5>{{checkoutForm.value.uname}}</h5>
            <span>{{checkoutForm.value.flat}}, </span>
            <span>{{checkoutForm.value.place}}</span>
            <h5>{{checkoutForm.value.pincode}}</h5>
            <hr>
            <h4>Total Amount: <span class="fw-bolder text-danger"> {{totalAmount}} </span></h4>
            <div *ngIf="!proceedToPaymentStatus" class="d-flex justify-content-between mt-3">
                <input (click)="back()" type="button" class="btn btn-warning"  value="Back">
                <input (click)="proceedToPayment()" type="button" class="btn btn-success"  value="Proceed to Payment">
            </div>
            <div *ngIf="proceedToPaymentStatus" class="mt-3 paypal p-5">
                <ngx-paypal [config]="payPalConfig"></ngx-paypal>
            </div>
        </div>
    </div>
</div>
